{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(`.feedback-form`);\n\nlet formData = {\n    email: \"\",\n    message: \"\"\n}\n\nconst saveUserInfo = (key) => {\n    try {\n        const infoKey = localStorage.getItem(key);\n\n        return infoKey === null ? undefined : JSON.parse(infoKey);\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nform.addEventListener(`input`, event => {\n    \n    const { name, value } = event.target;\n    \n    formData[name] = value.trim();\n    \n    try {\n        localStorage.setItem(`feedback-form-state`, JSON.stringify(formData));\n    } catch (err) {\n        console.log(err);\n    }\n    \n})\n\n\nwindow.addEventListener(`load`, () => {\n    const userLogInfo = saveUserInfo(`feedback-form-state`);\n    if (userLogInfo !== undefined) {\n        formData.email = userLogInfo.email || \"\";\n        formData.message = userLogInfo.message || \"\";\n\n        form.elements.email.value = formData.email;\n        form.elements.message.value = formData.message;\n    }\n})\n\n\nform.addEventListener(`submit`, event => {\n    event.preventDefault(); \n    if (!formData.email || !formData.message) {\n        alert(`Fill please all fields`);\n        return\n    }\n\n    resetStorage();\n\n})\n\nconst resetStorage = () => {\n    console.log(formData);\n    localStorage.removeItem(`feedback-form-state`);\n    formData = {\n        email: ``,\n        message: ``\n    }\n    form.reset();\n}"],"names":["form","formData","saveUserInfo","key","infoKey","err","event","name","value","userLogInfo","resetStorage"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAgBC,GAAQ,CAC1B,GAAI,CACA,MAAMC,EAAU,aAAa,QAAQD,CAAG,EAExC,OAAOC,IAAY,KAAO,OAAY,KAAK,MAAMA,CAAO,CAC3D,OAAQC,EAAK,CACV,QAAQ,IAAIA,CAAG,CAClB,CACL,EAEAL,EAAK,iBAAiB,QAASM,GAAS,CAEpC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAE9BL,EAASM,CAAI,EAAIC,EAAM,KAAI,EAE3B,GAAI,CACA,aAAa,QAAQ,sBAAuB,KAAK,UAAUP,CAAQ,CAAC,CACvE,OAAQI,EAAK,CACV,QAAQ,IAAIA,CAAG,CAClB,CAEL,CAAC,EAGD,OAAO,iBAAiB,OAAQ,IAAM,CAClC,MAAMI,EAAcP,EAAa,qBAAqB,EAClDO,IAAgB,SAChBR,EAAS,MAAQQ,EAAY,OAAS,GACtCR,EAAS,QAAUQ,EAAY,SAAW,GAE1CT,EAAK,SAAS,MAAM,MAAQC,EAAS,MACrCD,EAAK,SAAS,QAAQ,MAAQC,EAAS,QAE/C,CAAC,EAGDD,EAAK,iBAAiB,SAAUM,GAAS,CAErC,GADAA,EAAM,eAAc,EAChB,CAACL,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACH,CAEDS,GAEJ,CAAC,EAED,MAAMA,EAAe,IAAM,CACvB,QAAQ,IAAIT,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CA,EAAW,CACP,MAAO,GACP,QAAS,EACZ,EACDD,EAAK,MAAK,CACd"}